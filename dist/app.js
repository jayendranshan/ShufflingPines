var app=angular.module("shuffling",[]);app.controller("ShufflingController",["Guest","GuestSvc","$scope",function(t,e,s){var a=this;a.guest=t,s.submitted=!1,a.guestsListtesting=[],a.addTest=function(){a.guestsListtesting.push({guestname:t.name,date:t.date,status:t.status,address:t.address})},a.Add=function(){s.GuestForm.$valid&&e.Add(a.guest)},a.DropOff=function(){a.guest.address=""}}]),app.controller("GuestListController",["Guest","GuestSvc","$scope",function(t,e,s){var a=this;a.guestsList=[],a.guestsList=e.list(),a.newguest=t,a.readonly=!0,a.newStatus="",a.remove=function(t){e.remove(t)},a.Update=function(t){e.Update(t,a.newguest),a.guestsList=e.list(),a.readonly=!0},a.Edit=function(s){a.readonly=!a.readonly,t=e.Edit(s)},a.glcEditTest=function(t){return a.testVariable=!0,a.testVariable=!a.testVariable,a.testVariable}}]),app.value("Guest",{name:"Jay",status:"pickup"}),app.service("GuestSvc",["Guest",function(t){var e=[];this.Add=function(t){e.push({guestname:t.name,date:t.date,status:t.status,address:t.address}),console.log(e),localStorage.setItem("GuestListStore",e),t={};var s=$(this).parents(".tab-pane").next().attr("id")||"guests";$("[href=#"+s+"]").tab("show")},this.remove=function(t){confirm("Are you sure you want to delete this?")&&(localStorage.removeItem("GuestListStore"),e.splice(t,1),localStorage.setItem("GuestListStore",e),console.log(e))},this.removeTest=function(t,e){e.splice(t,1)},this.list=function(){return e},this.get=function(t){return e[t]},this.Update=function(t,s){for(var a in e)e[a].id===t&&(console.log(e[a]),e[a]=s);localStorage.removeItem("GuestListStore"),localStorage.setItem("GuestListStore",e),console.log(e)},this.Edit=function(t){"pickup"===e[t].status?e[t].status="arrived":"dropoff"===e[t].status?e[t].status="arrived":"arrived"===e[t].status&&(e[t].status="pickup"),localStorage.removeItem("GuestListStore"),localStorage.setItem("GuestListStore",e),console.log(e)},this.removeTest=function(t,e){e.splice(t,1)},this.addTest=function(t,e){t.push({guestname:e.name,status:e.status,address:e.address})},this.EditTest=function(t,e){"pickup"===e[t].status?e[t].status="arrived":"dropoff"===e[t].status?e[t].status="arrived":"arrived"===e[t].status&&(e[t].status="pickup")},this.setgetlocalstorageTest=function(t){var e=[];return localStorage.removeItem("GuestListStoreTest"),localStorage.setItem("GuestListStoreTest",t),e=localStorage.getItem("GuestListStoreTest")},this.updateTest=function(t,e,s){console.log(s),e[t].address=s}}]);