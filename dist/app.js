var app=angular.module("shuffling",[]);app.controller("ShufflingController",["Guest","GuestSvc","$scope",function(t,e,s){var o=this;o.guest=t,s.submitted=!1,o.guestsListtesting=[],o.addTest=function(){o.guestsListtesting.push({guestname:t.name,date:t.date,status:t.status,address:t.address})},o.Add=function(){s.GuestForm.$valid&&e.Add(o.guest)},o.DropOff=function(){o.guest.address=""}}]),app.controller("GuestListController",["Guest","GuestSvc","$scope",function(t,e,s){var o=this;o.guestsList=[],o.guestsList=e.list(),o.newguest=t,o.readonly=!0,o.newStatus="",o.remove=function(t){e.remove(t)},o.Update=function(t){e.Update(t,o.newguest),o.guestsList=e.list(),o.readonly=!0},o.Edit=function(s){o.readonly=!o.readonly,t=e.Edit(s)}}]),app.value("Guest",{name:"Jay",status:"pickup"}),app.service("GuestSvc",["Guest",function(t){var e=[];this.Add=function(t){e.push({guestname:t.name,date:t.date,status:t.status,address:t.address}),console.log(e),localStorage.setItem("GuestListStore",e),t={};var s=$(this).parents(".tab-pane").next().attr("id")||"guests";$("[href=#"+s+"]").tab("show")},this.remove=function(t){confirm("Are you sure you want to delete this?")&&(localStorage.removeItem("GuestListStore"),e.splice(t,1),localStorage.setItem("GuestListStore",e),console.log(e))},this.removeTest=function(t){e.splice(t,1)},this.list=function(){return e},this.get=function(t){return e[t]},this.Update=function(t,s){for(var o in e)e[o].id===t&&(console.log(e[o]),e[o]=s);localStorage.removeItem("GuestListStore"),localStorage.setItem("GuestListStore",e),console.log(e)},this.Edit=function(t){"pickup"===e[t].status?e[t].status="arrived":"dropoff"===e[t].status?e[t].status="arrived":"arrived"===e[t].status&&(e[t].status="pickup"),localStorage.removeItem("GuestListStore"),localStorage.setItem("GuestListStore",e),console.log(e)}}]);